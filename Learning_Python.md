
## Глава 4

### Функция list()

В Python функция list() используется для создания списков. Она может принимать итерируемые объекты (например, строки, кортежи, множества и другие списки) и преобразовывать их в список. Если аргумент не передан, функция создаст пустой список.

Вот несколько примеров использования функции list():

    Создание пустого списка:

python

empty_list = list()
print(empty_list)  # Вывод: []

Преобразование строки в список:

python

string = "hello"
list_from_string = list(string)
print(list_from_string)  # Вывод: ['h', 'e', 'l', 'l', 'o']

Преобразование кортежа в список:

python

tuple_data = (1, 2, 3)
list_from_tuple = list(tuple_data)
print(list_from_tuple)  # Вывод: [1, 2, 3]

Преобразование множества в список:

python

set_data = {1, 2, 3}
list_from_set = list(set_data)
print(list_from_set)  # Вывод: [1, 2, 3] (порядок может быть произвольным)

Преобразование другого списка:

python

    original_list = [1, 2, 3]
    new_list = list(original_list)
    print(new_list)  # Вывод: [1, 2, 3]

Функция list() полезна, когда вам нужно создать новый список из другого итерируемого объекта или когда вы хотите инициализировать пустой список для дальнейшего использования.


### Функция range()

Функция range() в Python используется для генерации последовательности чисел. Она часто применяется в циклах, особенно в цикле for, для итерации по числовым значениям. Функция range() может принимать от одного до трех аргументов:

    range(stop): Генерирует последовательность чисел от 0 до stop (не включая stop).
    range(start, stop): Генерирует последовательность чисел от start до stop (не включая stop).
    range(start, stop, step): Генерирует последовательность чисел от start до stop (не включая stop), с шагом step.

Вот несколько примеров использования функции range():

    Использование с одним аргументом:

python

for i in range(5):
    print(i)
 Вывод:
 0
 1
 2
 3
 4

Использование с двумя аргументами:

python

for i in range(2, 6):
    print(i)
 Вывод:
 2
 3
 4
 5

Использование с тремя аргументами:

python

for i in range(1, 10, 2):
    print(i)
 Вывод:
 1
 3
 5
 7
 9

Отрицательный шаг:

python

for i in range(5, 0, -1):
    print(i)
 Вывод:
 5
 4
 3
 2
 1

Создание списка из диапазона:

python

    numbers = list(range(10))
    print(numbers)  # Вывод: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

Функция range() возвращает объект range, который является итерируемым, но не создает список в памяти, что делает его эффективным для работы с большими диапазонами чисел. Если вам нужно получить список, вы можете обернуть range() в функцию list(), как показано в последнем примере.

### Генератор списков
Генератор списков (list comprehension) в Python — это удобный и лаконичный способ создания списков. Он позволяет создавать новый список, применяя выражение к каждому элементу итерируемого объекта, и при этом можно добавлять условия для фильтрации элементов.

Синтаксис генератора списков выглядит следующим образом:

python

[expression for item in iterable if condition]

Где:

    expression — это выражение, которое будет вычислено для каждого элемента.
    item — переменная, представляющая текущий элемент из iterable.
    iterable — любой итерируемый объект (например, список, строка, кортеж и т.д.).
    condition (необязательный) — условие, которое должно быть выполнено для включения элемента в новый список.

Вот несколько примеров использования генераторов списков:

    Создание списка квадратов чисел:

python

squares = [x**2 for x in range(10)]
print(squares)  # Вывод: [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]

Фильтрация четных чисел:

python

even_numbers = [x for x in range(20) if x % 2 == 0]
print(even_numbers)  # Вывод: [0, 2, 4, 6, 8, 10, 12, 14, 16, 18]

Преобразование строк в верхний регистр:

python

words = ["hello", "world", "python"]
upper_words = [word.upper() for word in words]
print(upper_words)  # Вывод: ['HELLO', 'WORLD', 'PYTHON']

Создание списка кортежей:

python

pairs = [(x, x**2) for x in range(5)]
print(pairs)  # Вывод: [(0, 0), (1, 1), (2, 4), (3, 9), (4, 16)]

Генерация списка из строк, содержащих только букву "a":

python

    strings = ["apple", "banana", "cherry", "date"]
    a_strings = [s for s in strings if 'a' in s]
    print(a_strings)  # Вывод: ['apple', 'banana', 'date']

Генераторы списков делают код более читаемым и компактным, особенно когда нужно создать новый список на основе существующего.

### slices (Срезы)

В Python срезы (slices) — это мощный инструмент для работы с последовательностями, такими как списки, строки и кортежи. Срезы позволяют извлекать подмножества элементов из этих последовательностей.

Синтаксис среза выглядит следующим образом:

python

Copy Code
sequence[start:stop:step]
start — индекс, с которого начинается срез (включительно).
stop — индекс, на котором срез заканчивается (исключительно).
step — шаг, с которым выбираются элементы (по умолчанию равен 1).
Примеры использования срезов:
Срез списка:
python

Copy Code
my_list = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
print(my_list[2:5])  # Вывод: [2, 3, 4]
print(my_list[:5])   # Вывод: [0, 1, 2, 3, 4]
print(my_list[5:])   # Вывод: [5, 6, 7, 8, 9]
print(my_list[::2])  # Вывод: [0, 2, 4, 6, 8]
Срез строки:
python

Copy Code
my_string = "Hello, World!"
print(my_string[7:12])  # Вывод: 'World'
print(my_string[:5])     # Вывод: 'Hello'
print(my_string[::2])    # Вывод: 'Hlo ol!'
Отрицательные индексы:
Отрицательные индексы позволяют обращаться к элементам с конца последовательности.

python

Copy Code
print(my_list[-3:])  # Вывод: [7, 8, 9]
print(my_string[-6:-1])  # Вывод: 'World'
Изменение среза:
Срезы также можно использовать для изменения элементов в списке.

python

Copy Code
my_list[1:4] = [10, 11, 12]
print(my_list)  # Вывод: [0, 10, 11, 12, 4, 5, 6, 7, 8, 9]
Срезы — это удобный и эффективный способ работы с последовательностями в Python, позволяющий легко извлекать и изменять данные.

### Копирование списков

В Python существует несколько способов копирования списков. Каждый из них имеет свои особенности и может быть использован в зависимости от конкретной ситуации. Вот основные методы копирования списков:

1. Использование метода copy()
Метод copy() создает поверхностную копию списка.

python

Copy Code
original_list = [1, 2, 3, 4, 5]
copied_list = original_list.copy()
print(copied_list)  # Вывод: [1, 2, 3, 4, 5]
2. Срезы
Срезы также могут быть использованы для создания копии списка.

python

Copy Code
original_list = [1, 2, 3, 4, 5]
copied_list = original_list[:]
print(copied_list)  # Вывод: [1, 2, 3, 4, 5]
3. Использование функции list()
Функция list() может быть использована для создания копии списка.

python

Copy Code
original_list = [1, 2, 3, 4, 5]
copied_list = list(original_list)
print(copied_list)  # Вывод: [1, 2, 3, 4, 5]
4. Использование модуля copy
Если вам нужно создать глубокую копию списка (то есть копировать вложенные объекты), вы можете использовать функцию deepcopy() из модуля copy.

python

Copy Code
import copy

original_list = [[1, 2, 3], [4, 5, 6]]
copied_list = copy.deepcopy(original_list)
print(copied_list)  # Вывод: [[1, 2, 3], [4, 5, 6]]

 Изменим вложенный список
original_list[0][0] = 'changed'
print(original_list)  # Вывод: [['changed', 2, 3], [4, 5, 6]]
print(copied_list)    # Вывод: [[1, 2, 3], [4, 5, 6]]
5. Использование list comprehension
Вы также можете использовать списковое включение для создания копии списка.

python

Copy Code
original_list = [1, 2, 3, 4, 5]
copied_list = [item for item in original_list]
print(copied_list)  # Вывод: [1, 2, 3, 4, 5]
Важно помнить
Поверхностная копия: Методы copy(), срезы и list() создают поверхностные копии. Это означает, что если в списке есть вложенные объекты (например, другие списки), изменения в этих вложенных объектах отразятся на оригинальном списке.
Глубокая копия: Для создания глубокой копии, которая не будет зависеть от оригинала, используйте copy.deepcopy().
Выбор метода копирования зависит от ваших потребностей и структуры данных, с которыми вы работаете.